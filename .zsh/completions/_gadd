#compdef _gadd gadd

function _gadd {
    local state

    _arguments \
        '*::change:->changes'

    case "${state}" in
        changes)
            compadd -S '' $(gsta --only-unadded)
            ;;
    esac
}
